<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>College Scorecard Data, 1996-2014 • scorecard</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">scorecard</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="/index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jjchern/scorecard">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    

    
    
<div class="contents">
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="about-scorecard" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#about-scorecard" class="anchor"></a>About <code>scorecard</code>
</h1></div>

<p>The <code>scorecard</code> repo contains an R script <code>prep.R</code> (in the <a href="https://github.com/jjchern/scorecard/tree/master/data-raw"><code>data-raw</code> folder</a>) that downloads and process raw data from the <a href="https://collegescorecard.ed.gov">College Scorecard</a>, 1996-2014. The datasets are stored in the <a href="https://github.com/jjchern/scorecard/tree/master/data"><code>data</code> folder</a>.</p>
<p>The data was last updated on January 13th, 2017 (as of August 5, 2017). See the <a href="https://collegescorecard.ed.gov/data/changelog/">changelog</a> for more details.</p>
<p>The following datasets are available:</p>
<ul>
<li><code><a href="http://www.rdocumentation.org/packages/scorecard/topics/mf1996_97">scorecard::mf1996_97</a></code></li>
<li><code><a href="http://www.rdocumentation.org/packages/scorecard/topics/mf1997_98">scorecard::mf1997_98</a></code></li>
<li><code><a href="http://www.rdocumentation.org/packages/scorecard/topics/mf1998_99">scorecard::mf1998_99</a></code></li>
<li><code><a href="http://www.rdocumentation.org/packages/scorecard/topics/mf1999_00">scorecard::mf1999_00</a></code></li>
<li><code><a href="http://www.rdocumentation.org/packages/scorecard/topics/mf2000_01">scorecard::mf2000_01</a></code></li>
<li><code><a href="http://www.rdocumentation.org/packages/scorecard/topics/mf2001_02">scorecard::mf2001_02</a></code></li>
<li><code><a href="http://www.rdocumentation.org/packages/scorecard/topics/mf2002_03">scorecard::mf2002_03</a></code></li>
<li><code><a href="http://www.rdocumentation.org/packages/scorecard/topics/mf2003_04">scorecard::mf2003_04</a></code></li>
<li><code><a href="http://www.rdocumentation.org/packages/scorecard/topics/mf2004_05">scorecard::mf2004_05</a></code></li>
<li><code><a href="http://www.rdocumentation.org/packages/scorecard/topics/mf2005_06">scorecard::mf2005_06</a></code></li>
<li><code><a href="http://www.rdocumentation.org/packages/scorecard/topics/mf2006_07">scorecard::mf2006_07</a></code></li>
<li><code><a href="http://www.rdocumentation.org/packages/scorecard/topics/mf2007_08">scorecard::mf2007_08</a></code></li>
<li><code><a href="http://www.rdocumentation.org/packages/scorecard/topics/mf2008_09">scorecard::mf2008_09</a></code></li>
<li><code><a href="http://www.rdocumentation.org/packages/scorecard/topics/mf2009_10">scorecard::mf2009_10</a></code></li>
<li><code><a href="http://www.rdocumentation.org/packages/scorecard/topics/mf2010_11">scorecard::mf2010_11</a></code></li>
<li><code><a href="http://www.rdocumentation.org/packages/scorecard/topics/mf2011_12">scorecard::mf2011_12</a></code></li>
<li><code><a href="http://www.rdocumentation.org/packages/scorecard/topics/mf2012_13">scorecard::mf2012_13</a></code></li>
<li><code><a href="http://www.rdocumentation.org/packages/scorecard/topics/mf2013_14">scorecard::mf2013_14</a></code></li>
<li><code><a href="http://www.rdocumentation.org/packages/scorecard/topics/mf2014_15">scorecard::mf2014_15</a></code></li>
<li><code><a href="http://www.rdocumentation.org/packages/scorecard/topics/codebook">scorecard::codebook</a></code></li>
<li><code><a href="http://www.rdocumentation.org/packages/scorecard/topics/cohort_map">scorecard::cohort_map</a></code></li>
</ul>
<p>The following functions are implemented:</p>
<ul>
<li>
<code><a href="http://www.rdocumentation.org/packages/scorecard/topics/attach_var_label">scorecard::attach_var_label()</a></code>: Assign variable labels.</li>
<li>
<code><a href="http://www.rdocumentation.org/packages/scorecard/topics/attach_val_label">scorecard::attach_val_label()</a></code>: Assign value labels for certain variables</li>
</ul>
</div>
<div id="related-r-package" class="section level1">
<h1 class="hasAnchor">
<a href="#related-r-package" class="anchor"></a>Related R Package</h1>
<p><a href="https://github.com/btskinner">Benjamin Skinner</a> has created a wonderful R client <a href="http://btskinner.me/rscorecard/"><code>rscorecard</code></a> for the <a href="https://collegescorecard.ed.gov/data/documentation/">College Scorecard GET API</a>. If you’re interested in getting some specific variables quickly, I suggest using the <code>rscorecard</code> package.</p>
</div>
<div id="installation" class="section level1">
<h1 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h1>
<p>You can also download the datasets as an R package. The size of the <code>data</code> folder is 138.1 MB, so it might take a while to install and load into memory.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># install.packages("devtools")</span>
devtools::<span class="kw">install_github</span>(<span class="st">"jjchern/scorecard"</span>)

<span class="co"># To uninstall the package, use:</span>
<span class="co"># remove.packages("scorecard")</span></code></pre></div>
</div>
<div id="examples" class="section level1">
<h1 class="hasAnchor">
<a href="#examples" class="anchor"></a>Examples</h1>
<div id="loading-the-merged-file-for-school-year-2014-15" class="section level2">
<h2 class="hasAnchor">
<a href="#loading-the-merged-file-for-school-year-2014-15" class="anchor"></a>Loading the merged file for school year 2014-15</h2>
<p>All datasets are tibbles:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
scorecard::mf2014_15
<span class="co">#&gt; # A tibble: 7,703 x 1,744</span>
<span class="co">#&gt;    mf_year unitid    opeid opeid6                              instnm</span>
<span class="co">#&gt;      &lt;chr&gt;  &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;                               &lt;chr&gt;</span>
<span class="co">#&gt;  1 2014-15 100654 00100200 001002            Alabama A &amp; M University</span>
<span class="co">#&gt;  2 2014-15 100663 00105200 001052 University of Alabama at Birmingham</span>
<span class="co">#&gt;  3 2014-15 100690 02503400 025034                  Amridge University</span>
<span class="co">#&gt;  4 2014-15 100706 00105500 001055 University of Alabama in Huntsville</span>
<span class="co">#&gt;  5 2014-15 100724 00100500 001005            Alabama State University</span>
<span class="co">#&gt;  6 2014-15 100751 00105100 001051           The University of Alabama</span>
<span class="co">#&gt;  7 2014-15 100760 00100700 001007   Central Alabama Community College</span>
<span class="co">#&gt;  8 2014-15 100812 00100800 001008             Athens State University</span>
<span class="co">#&gt;  9 2014-15 100830 00831000 008310     Auburn University at Montgomery</span>
<span class="co">#&gt; 10 2014-15 100858 00100900 001009                   Auburn University</span>
<span class="co">#&gt; # ... with 7,693 more rows, and 1739 more variables: city &lt;chr&gt;,</span>
<span class="co">#&gt; #   stabbr &lt;chr&gt;, zip &lt;chr&gt;, accredagency &lt;chr&gt;, insturl &lt;chr&gt;,</span>
<span class="co">#&gt; #   npcurl &lt;chr&gt;, sch_deg &lt;chr&gt;, hcm2 &lt;dbl&gt;, main &lt;dbl+lbl&gt;,</span>
<span class="co">#&gt; #   numbranch &lt;dbl&gt;, preddeg &lt;dbl+lbl&gt;, highdeg &lt;dbl+lbl&gt;,</span>
<span class="co">#&gt; #   control &lt;dbl+lbl&gt;, st_fips &lt;dbl+lbl&gt;, region &lt;dbl+lbl&gt;,</span>
<span class="co">#&gt; #   locale &lt;dbl+lbl&gt;, locale2 &lt;dbl+lbl&gt;, latitude &lt;dbl&gt;, longitude &lt;dbl&gt;,</span>
<span class="co">#&gt; #   ccbasic &lt;dbl+lbl&gt;, ccugprof &lt;dbl+lbl&gt;, ccsizset &lt;dbl+lbl&gt;,</span>
<span class="co">#&gt; #   hbcu &lt;dbl+lbl&gt;, pbi &lt;dbl+lbl&gt;, annhi &lt;dbl+lbl&gt;, tribal &lt;dbl+lbl&gt;,</span>
<span class="co">#&gt; #   aanapii &lt;dbl+lbl&gt;, hsi &lt;dbl+lbl&gt;, nanti &lt;dbl+lbl&gt;, menonly &lt;dbl+lbl&gt;,</span>
<span class="co">#&gt; #   womenonly &lt;dbl+lbl&gt;, relaffil &lt;dbl+lbl&gt;, adm_rate &lt;dbl&gt;,</span>
<span class="co">#&gt; #   adm_rate_all &lt;dbl&gt;, satvr25 &lt;dbl&gt;, satvr75 &lt;dbl&gt;, satmt25 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   satmt75 &lt;dbl&gt;, satwr25 &lt;dbl&gt;, satwr75 &lt;dbl&gt;, satvrmid &lt;dbl&gt;,</span>
<span class="co">#&gt; #   satmtmid &lt;dbl&gt;, satwrmid &lt;dbl&gt;, actcm25 &lt;dbl&gt;, actcm75 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   acten25 &lt;dbl&gt;, acten75 &lt;dbl&gt;, actmt25 &lt;dbl&gt;, actmt75 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   actwr25 &lt;dbl&gt;, actwr75 &lt;dbl&gt;, actcmmid &lt;dbl&gt;, actenmid &lt;dbl&gt;,</span>
<span class="co">#&gt; #   actmtmid &lt;dbl&gt;, actwrmid &lt;dbl&gt;, sat_avg &lt;dbl&gt;, sat_avg_all &lt;dbl&gt;,</span>
<span class="co">#&gt; #   pcip01 &lt;dbl&gt;, pcip03 &lt;dbl&gt;, pcip04 &lt;dbl&gt;, pcip05 &lt;dbl&gt;, pcip09 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   pcip10 &lt;dbl&gt;, pcip11 &lt;dbl&gt;, pcip12 &lt;dbl&gt;, pcip13 &lt;dbl&gt;, pcip14 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   pcip15 &lt;dbl&gt;, pcip16 &lt;dbl&gt;, pcip19 &lt;dbl&gt;, pcip22 &lt;dbl&gt;, pcip23 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   pcip24 &lt;dbl&gt;, pcip25 &lt;dbl&gt;, pcip26 &lt;dbl&gt;, pcip27 &lt;dbl&gt;, pcip29 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   pcip30 &lt;dbl&gt;, pcip31 &lt;dbl&gt;, pcip38 &lt;dbl&gt;, pcip39 &lt;dbl&gt;, pcip40 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   pcip41 &lt;dbl&gt;, pcip42 &lt;dbl&gt;, pcip43 &lt;dbl&gt;, pcip44 &lt;dbl&gt;, pcip45 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   pcip46 &lt;dbl&gt;, pcip47 &lt;dbl&gt;, pcip48 &lt;dbl&gt;, pcip49 &lt;dbl&gt;, pcip50 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   pcip51 &lt;dbl&gt;, pcip52 &lt;dbl&gt;, pcip54 &lt;dbl&gt;, cip01cert1 &lt;dbl+lbl&gt;,</span>
<span class="co">#&gt; #   cip01cert2 &lt;dbl+lbl&gt;, cip01assoc &lt;dbl+lbl&gt;, cip01cert4 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   cip01bachl &lt;dbl&gt;, ...</span></code></pre></div>
</div>
<div id="working-with-variable-and-value-labels" class="section level2">
<h2 class="hasAnchor">
<a href="#working-with-variable-and-value-labels" class="anchor"></a>Working with variable and value labels</h2>
<p>All the datasets have variable labels attached, which can be viewed in RStudio’s Data Viewer:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">View</span>(scorecard::mf2014_15)</code></pre></div>
<div class="figure">
<img src="README-files/RStudio-Data-Viewer.png">
</div>
<p>You can also use the <code>labelled</code> package:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">scorecard::mf2014_15 %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(<span class="dv">1</span>:<span class="dv">8</span>) %&gt;%<span class="st"> </span>
<span class="st">  </span>labelled::<span class="kw">var_label</span>()
<span class="co">#&gt; $mf_year</span>
<span class="co">#&gt; NULL</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $unitid</span>
<span class="co">#&gt; [1] "Unit ID for institution"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $opeid</span>
<span class="co">#&gt; [1] "8-digit OPE ID for institution"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $opeid6</span>
<span class="co">#&gt; [1] "6-digit OPE ID for institution"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $instnm</span>
<span class="co">#&gt; [1] "Institution name"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $city</span>
<span class="co">#&gt; [1] "City"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $stabbr</span>
<span class="co">#&gt; [1] "State postcode"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $zip</span>
<span class="co">#&gt; [1] "ZIP code"</span></code></pre></div>
<p>Or work with the codebook directly:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Show variable labels
scorecard::codebook %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(var_name, var_label)
<span class="co">#&gt; # A tibble: 1,975 x 2</span>
<span class="co">#&gt;        var_name                                  var_label</span>
<span class="co">#&gt;           &lt;chr&gt;                                      &lt;chr&gt;</span>
<span class="co">#&gt;  1       unitid                    Unit ID for institution</span>
<span class="co">#&gt;  2        opeid             8-digit OPE ID for institution</span>
<span class="co">#&gt;  3       opeid6             6-digit OPE ID for institution</span>
<span class="co">#&gt;  4       instnm                           Institution name</span>
<span class="co">#&gt;  5         city                                       City</span>
<span class="co">#&gt;  6       stabbr                             State postcode</span>
<span class="co">#&gt;  7          zip                                   ZIP code</span>
<span class="co">#&gt;  8 accredagency                 Accreditor for institution</span>
<span class="co">#&gt;  9      insturl             URL for institution's homepage</span>
<span class="co">#&gt; 10       npcurl URL for institution's net price calculator</span>
<span class="co">#&gt; # ... with 1,965 more rows</span>

## Build a small function to shown value labels
show_val_label =<span class="st"> </span>. %&gt;%<span class="st"> </span>{
    <span class="kw">filter</span>(scorecard::codebook, var_name ==<span class="st"> </span>.) %&gt;%<span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">val_label =</span> glue::<span class="kw">glue</span>(<span class="st">"{val_label}  = {value}"</span>)) %&gt;%<span class="st"> </span>
<span class="st">    </span><span class="kw">distinct</span>(val_label)}

## Show value labels:
<span class="kw">show_val_label</span>(<span class="st">"curroper"</span>)
<span class="co">#&gt; # A tibble: 2 x 1</span>
<span class="co">#&gt;                                                  val_label</span>
<span class="co">#&gt;                                                      &lt;chr&gt;</span>
<span class="co">#&gt; 1 Not currently certified as an operating institution  = 0</span>
<span class="co">#&gt; 2                    Currently certified as operating  = 1</span>
<span class="kw">show_val_label</span>(<span class="st">"distanceonly"</span>)
<span class="co">#&gt; # A tibble: 2 x 1</span>
<span class="co">#&gt;                          val_label</span>
<span class="co">#&gt;                              &lt;chr&gt;</span>
<span class="co">#&gt; 1 Not distance-education only  = 0</span>
<span class="co">#&gt; 2     Distance-education only  = 1</span></code></pre></div>
<p>In binding multiple years of data with <code>dyplr::bind_rows()</code>, however, labels will get dropped. To throw back the labels, <code>scorecard</code> also provides to simple functions that attach variable and value labels to the tibbles:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">bind_rows</span>(
  scorecard::mf2014_15 %&gt;%<span class="st"> </span><span class="kw">select</span>(mf_year, instnm, control, adm_rate),
  scorecard::mf2013_14 %&gt;%<span class="st"> </span><span class="kw">select</span>(mf_year, instnm, control, adm_rate)
) %&gt;%<span class="st"> </span>
<span class="st">  </span>scorecard::<span class="kw"><a href="reference/attach_var_label.html">attach_var_label</a></span>() %&gt;%<span class="st"> </span>
<span class="st">  </span>scorecard::<span class="kw"><a href="reference/attach_val_label.html">attach_val_label</a></span>() -&gt;<span class="st"> </span>df

df
<span class="co">#&gt; # A tibble: 15,507 x 4</span>
<span class="co">#&gt;    mf_year                              instnm   control adm_rate</span>
<span class="co">#&gt;      &lt;chr&gt;                               &lt;chr&gt; &lt;dbl+lbl&gt;    &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2014-15            Alabama A &amp; M University         1   0.5256</span>
<span class="co">#&gt;  2 2014-15 University of Alabama at Birmingham         1   0.8569</span>
<span class="co">#&gt;  3 2014-15                  Amridge University         2       NA</span>
<span class="co">#&gt;  4 2014-15 University of Alabama in Huntsville         1   0.8203</span>
<span class="co">#&gt;  5 2014-15            Alabama State University         1   0.5326</span>
<span class="co">#&gt;  6 2014-15           The University of Alabama         1   0.5105</span>
<span class="co">#&gt;  7 2014-15   Central Alabama Community College         1       NA</span>
<span class="co">#&gt;  8 2014-15             Athens State University         1       NA</span>
<span class="co">#&gt;  9 2014-15     Auburn University at Montgomery         1   0.8017</span>
<span class="co">#&gt; 10 2014-15                   Auburn University         1   0.8347</span>
<span class="co">#&gt; # ... with 15,497 more rows</span>
labelled::<span class="kw">var_label</span>(df)
<span class="co">#&gt; $mf_year</span>
<span class="co">#&gt; NULL</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $instnm</span>
<span class="co">#&gt; [1] "Institution name"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $control</span>
<span class="co">#&gt; [1] "Control of institution"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $adm_rate</span>
<span class="co">#&gt; [1] "Admission rate"</span>
labelled::<span class="kw">val_labels</span>(df)
<span class="co">#&gt; $mf_year</span>
<span class="co">#&gt; NULL</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $instnm</span>
<span class="co">#&gt; NULL</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $control</span>
<span class="co">#&gt;             Public  Private nonprofit Private for-profit </span>
<span class="co">#&gt;                  1                  2                  3 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $adm_rate</span>
<span class="co">#&gt; NULL</span></code></pre></div>
</div>
<div id="exploring-codebook-and-plot-in-state-tuition-with-a-joyplot" class="section level2">
<h2 class="hasAnchor">
<a href="#exploring-codebook-and-plot-in-state-tuition-with-a-joyplot" class="anchor"></a>Exploring codebook and plot in-state tuition with a joyplot</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">vars =<span class="st"> </span><span class="kw">c</span>(<span class="st">"mf_year"</span>, <span class="st">"iclevel"</span>, <span class="st">"control"</span>, <span class="st">"tuitionfee_in"</span>)

scorecard::codebook %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(var_name, var_label, value, val_label) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(var_name %in%<span class="st"> </span>vars) %&gt;%<span class="st"> </span>
<span class="st">  </span>knitr::<span class="kw">kable</span>()</code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">var_name</th>
<th align="left">var_label</th>
<th align="right">value</th>
<th align="left">val_label</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">control</td>
<td align="left">Control of institution</td>
<td align="right">1</td>
<td align="left">Public</td>
</tr>
<tr class="even">
<td align="left">control</td>
<td align="left">Control of institution</td>
<td align="right">2</td>
<td align="left">Private nonprofit</td>
</tr>
<tr class="odd">
<td align="left">control</td>
<td align="left">Control of institution</td>
<td align="right">3</td>
<td align="left">Private for-profit</td>
</tr>
<tr class="even">
<td align="left">tuitionfee_in</td>
<td align="left">In-state tuition and fees</td>
<td align="right">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">iclevel</td>
<td align="left">Level of institution</td>
<td align="right">1</td>
<td align="left">4-year</td>
</tr>
<tr class="even">
<td align="left">iclevel</td>
<td align="left">Level of institution</td>
<td align="right">2</td>
<td align="left">2-year</td>
</tr>
<tr class="odd">
<td align="left">iclevel</td>
<td align="left">Level of institution</td>
<td align="right">3</td>
<td align="left">Less-than-2-year</td>
</tr>
</tbody>
</table>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
dplyr_seq =<span class="st"> </span>. %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(<span class="kw">one_of</span>(vars)) %&gt;%
<span class="st">  </span>haven::<span class="kw">as_factor</span>() %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(iclevel %in%<span class="st"> </span><span class="kw">c</span>(<span class="st">"4-year"</span>, <span class="st">"2-year"</span>)) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">year =</span> mf_year %&gt;%<span class="st"> </span><span class="kw">parse_number</span>() %&gt;%<span class="st"> </span><span class="kw">as.factor</span>()) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(iclevel, control) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">mutate_at</span>(<span class="kw">c</span>(<span class="st">"tuitionfee_in"</span>),
            ~statar::<span class="kw">winsorise</span>(., <span class="dt">probs =</span> <span class="kw">c</span>(<span class="fl">0.02</span>, <span class="fl">0.98</span>), <span class="dt">verbose =</span> <span class="ot">FALSE</span>)) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">ungroup</span>()

## Test the functional sequence
scorecard::mf2014_15 %&gt;%<span class="st"> </span><span class="kw">dplyr_seq</span>()
<span class="co">#&gt; # A tibble: 5,530 x 5</span>
<span class="co">#&gt;    mf_year iclevel           control tuitionfee_in   year</span>
<span class="co">#&gt;      &lt;chr&gt;  &lt;fctr&gt;            &lt;fctr&gt;         &lt;dbl&gt; &lt;fctr&gt;</span>
<span class="co">#&gt;  1 2014-15  4-year            Public          9096   2014</span>
<span class="co">#&gt;  2 2014-15  4-year            Public          7510   2014</span>
<span class="co">#&gt;  3 2014-15  4-year Private nonprofit          6900   2014</span>
<span class="co">#&gt;  4 2014-15  4-year            Public          9158   2014</span>
<span class="co">#&gt;  5 2014-15  4-year            Public          8720   2014</span>
<span class="co">#&gt;  6 2014-15  4-year            Public          9826   2014</span>
<span class="co">#&gt;  7 2014-15  2-year            Public          3491   2014</span>
<span class="co">#&gt;  8 2014-15  4-year            Public            NA   2014</span>
<span class="co">#&gt;  9 2014-15  4-year            Public          9080   2014</span>
<span class="co">#&gt; 10 2014-15  4-year            Public         10200   2014</span>
<span class="co">#&gt; # ... with 5,520 more rows</span>

<span class="kw">bind_rows</span>(
  scorecard::mf2014_15 %&gt;%<span class="st"> </span><span class="kw">dplyr_seq</span>(),
  scorecard::mf2013_14 %&gt;%<span class="st"> </span><span class="kw">dplyr_seq</span>(),
  scorecard::mf2012_13 %&gt;%<span class="st"> </span><span class="kw">dplyr_seq</span>(),
  scorecard::mf2011_12 %&gt;%<span class="st"> </span><span class="kw">dplyr_seq</span>(),
  scorecard::mf2010_11 %&gt;%<span class="st"> </span><span class="kw">dplyr_seq</span>(),
  scorecard::mf2009_10 %&gt;%<span class="st"> </span><span class="kw">dplyr_seq</span>(),
  scorecard::mf2008_09 %&gt;%<span class="st"> </span><span class="kw">dplyr_seq</span>(),
  scorecard::mf2007_08 %&gt;%<span class="st"> </span><span class="kw">dplyr_seq</span>(),
  scorecard::mf2006_07 %&gt;%<span class="st"> </span><span class="kw">dplyr_seq</span>(),
  scorecard::mf2005_06 %&gt;%<span class="st"> </span><span class="kw">dplyr_seq</span>(),
  scorecard::mf2004_05 %&gt;%<span class="st"> </span><span class="kw">dplyr_seq</span>(),
  scorecard::mf2003_04 %&gt;%<span class="st"> </span><span class="kw">dplyr_seq</span>(),
  scorecard::mf2002_03 %&gt;%<span class="st"> </span><span class="kw">dplyr_seq</span>(),
  scorecard::mf2001_02 %&gt;%<span class="st"> </span><span class="kw">dplyr_seq</span>(),
  scorecard::mf2000_01 %&gt;%<span class="st"> </span><span class="kw">dplyr_seq</span>()
) -&gt;<span class="st"> </span>df

df %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> tuitionfee_in, <span class="dt">y =</span> year, <span class="dt">fill =</span> iclevel)) +
<span class="st">  </span>ggjoy::<span class="kw">geom_joy</span>(<span class="dt">scale =</span> <span class="dv">2</span>, <span class="dt">alpha =</span> .<span class="dv">8</span>, <span class="dt">colour =</span> <span class="st">"white"</span>) +
<span class="st">  </span>ggjoy::<span class="kw">theme_joy</span>() +
<span class="st">  </span><span class="kw">facet_grid</span>(iclevel~control, <span class="dt">scales =</span> <span class="st">"free"</span>) +
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="ot">NULL</span>, <span class="dt">y =</span> <span class="ot">NULL</span>,
       <span class="dt">title =</span> <span class="st">"In-State Tuition and Fees, 2000-2014"</span>) +
<span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">labels =</span> scales::dollar) +
<span class="st">  </span><span class="kw">scale_y_discrete</span>(<span class="dt">breaks =</span> <span class="kw">seq</span>(<span class="dv">2014</span>, <span class="dv">2000</span>, -<span class="dv">3</span>), 
                   <span class="dt">expand =</span> <span class="kw">c</span>(<span class="fl">0.01</span>, <span class="dv">0</span>)) +
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">8</span>),
        <span class="dt">legend.position =</span> <span class="st">"none"</span>)</code></pre></div>
<p><img src="README-files/in_tuition-1.png" width="672"></p>
</div>
<div id="compare-in-state-and-out-of-state-tuition-and-fees" class="section level2">
<h2 class="hasAnchor">
<a href="#compare-in-state-and-out-of-state-tuition-and-fees" class="anchor"></a>Compare in-state and out-of-state tuition and fees</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">vars =<span class="st"> </span><span class="kw">c</span>(<span class="st">"mf_year"</span>, <span class="st">"iclevel"</span>, <span class="st">"control"</span>, <span class="st">"tuitionfee_in"</span>, <span class="st">"tuitionfee_out"</span>)

dplyr_seq =<span class="st"> </span>. %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(<span class="kw">one_of</span>(vars)) %&gt;%
<span class="st">  </span>haven::<span class="kw">as_factor</span>() %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(iclevel %in%<span class="st"> </span><span class="kw">c</span>(<span class="st">"4-year"</span>, <span class="st">"2-year"</span>)) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(control ==<span class="st"> "Public"</span>) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">type =</span> <span class="kw">paste</span>(control, iclevel)) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">year =</span> mf_year %&gt;%<span class="st"> </span><span class="kw">parse_number</span>() %&gt;%<span class="st"> </span><span class="kw">as.factor</span>()) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(type) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">mutate_at</span>(<span class="kw">c</span>(<span class="st">"tuitionfee_in"</span>, <span class="st">"tuitionfee_out"</span>),
            ~statar::<span class="kw">winsorise</span>(., <span class="dt">probs =</span> <span class="kw">c</span>(<span class="fl">0.02</span>, <span class="fl">0.98</span>), <span class="dt">verbose =</span> <span class="ot">FALSE</span>)) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">ungroup</span>() %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">gather</span>(in_or_out, tuitionfee, tuitionfee_in:tuitionfee_out) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">in_or_out =</span> <span class="kw">if_else</span>(in_or_out ==<span class="st"> "tuitionfee_in"</span>,
                              <span class="st">"In-state tuition and fees"</span>,
                              <span class="st">"Out-of-state tuition and fees"</span>))

## Test the functional sequence
scorecard::mf2014_15 %&gt;%<span class="st"> </span><span class="kw">dplyr_seq</span>()
<span class="co">#&gt; # A tibble: 3,600 x 7</span>
<span class="co">#&gt;    mf_year iclevel control          type   year                 in_or_out</span>
<span class="co">#&gt;      &lt;chr&gt;  &lt;fctr&gt;  &lt;fctr&gt;         &lt;chr&gt; &lt;fctr&gt;                     &lt;chr&gt;</span>
<span class="co">#&gt;  1 2014-15  4-year  Public Public 4-year   2014 In-state tuition and fees</span>
<span class="co">#&gt;  2 2014-15  4-year  Public Public 4-year   2014 In-state tuition and fees</span>
<span class="co">#&gt;  3 2014-15  4-year  Public Public 4-year   2014 In-state tuition and fees</span>
<span class="co">#&gt;  4 2014-15  4-year  Public Public 4-year   2014 In-state tuition and fees</span>
<span class="co">#&gt;  5 2014-15  4-year  Public Public 4-year   2014 In-state tuition and fees</span>
<span class="co">#&gt;  6 2014-15  2-year  Public Public 2-year   2014 In-state tuition and fees</span>
<span class="co">#&gt;  7 2014-15  4-year  Public Public 4-year   2014 In-state tuition and fees</span>
<span class="co">#&gt;  8 2014-15  4-year  Public Public 4-year   2014 In-state tuition and fees</span>
<span class="co">#&gt;  9 2014-15  4-year  Public Public 4-year   2014 In-state tuition and fees</span>
<span class="co">#&gt; 10 2014-15  2-year  Public Public 2-year   2014 In-state tuition and fees</span>
<span class="co">#&gt; # ... with 3,590 more rows, and 1 more variables: tuitionfee &lt;dbl&gt;</span>

<span class="kw">bind_rows</span>(
  scorecard::mf2014_15 %&gt;%<span class="st"> </span><span class="kw">dplyr_seq</span>(),
  scorecard::mf2013_14 %&gt;%<span class="st"> </span><span class="kw">dplyr_seq</span>(),
  scorecard::mf2012_13 %&gt;%<span class="st"> </span><span class="kw">dplyr_seq</span>(),
  scorecard::mf2011_12 %&gt;%<span class="st"> </span><span class="kw">dplyr_seq</span>(),
  scorecard::mf2010_11 %&gt;%<span class="st"> </span><span class="kw">dplyr_seq</span>(),
  scorecard::mf2009_10 %&gt;%<span class="st"> </span><span class="kw">dplyr_seq</span>(),
  scorecard::mf2008_09 %&gt;%<span class="st"> </span><span class="kw">dplyr_seq</span>(),
  scorecard::mf2007_08 %&gt;%<span class="st"> </span><span class="kw">dplyr_seq</span>(),
  scorecard::mf2006_07 %&gt;%<span class="st"> </span><span class="kw">dplyr_seq</span>(),
  scorecard::mf2005_06 %&gt;%<span class="st"> </span><span class="kw">dplyr_seq</span>(),
  scorecard::mf2004_05 %&gt;%<span class="st"> </span><span class="kw">dplyr_seq</span>(),
  scorecard::mf2003_04 %&gt;%<span class="st"> </span><span class="kw">dplyr_seq</span>(),
  scorecard::mf2002_03 %&gt;%<span class="st"> </span><span class="kw">dplyr_seq</span>(),
  scorecard::mf2001_02 %&gt;%<span class="st"> </span><span class="kw">dplyr_seq</span>(),
  scorecard::mf2000_01 %&gt;%<span class="st"> </span><span class="kw">dplyr_seq</span>()
) -&gt;<span class="st"> </span>df

df %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> tuitionfee, <span class="dt">y =</span> year, <span class="dt">fill =</span> in_or_out)) +
<span class="st">  </span>ggjoy::<span class="kw">geom_joy</span>(<span class="dt">scale =</span> <span class="dv">2</span>, <span class="dt">alpha =</span> .<span class="dv">8</span>, <span class="dt">colour =</span> <span class="st">"white"</span>) +
<span class="st">  </span>ggjoy::<span class="kw">theme_joy</span>() +
<span class="st">  </span><span class="kw">facet_wrap</span>(~type, <span class="dt">scales =</span> <span class="st">"free"</span>) +
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="ot">NULL</span>, <span class="dt">y =</span> <span class="ot">NULL</span>,
       <span class="dt">title =</span> <span class="st">"In-State Vs. Out-of-State Tuition and Fees for Public Colleges"</span>,
       <span class="dt">caption =</span> <span class="st">"Source: College Scorecard, 2000-2014"</span>) +
<span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">labels =</span> scales::dollar) +
<span class="st">  </span><span class="kw">scale_y_discrete</span>(<span class="dt">breaks =</span> <span class="kw">seq</span>(<span class="dv">2014</span>, <span class="dv">2000</span>, -<span class="dv">3</span>), 
                   <span class="dt">expand =</span> <span class="kw">c</span>(<span class="fl">0.01</span>, <span class="dv">0</span>)) +
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">9</span>),
        <span class="dt">legend.position =</span> <span class="st">"top"</span>,
        <span class="dt">legend.title =</span> <span class="kw">element_blank</span>(),
        <span class="dt">legend.justification =</span> <span class="st">"center"</span>)</code></pre></div>
<p><img src="README-files/in_or_out_tuition-1.png" width="672"></p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2 class="hasAnchor">
<a href="#sidebar" class="anchor"></a>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/jjchern/scorecard">https://​github.com/​jjchern/​scorecard</a>
</li>
<li>Report a bug at <br><a href="https://github.com/jjchern/scorecard/issues">https://​github.com/​jjchern/​scorecard/​issues</a>
</li>
</ul>
<h2>License</h2>
<p>CC0</p>
<h2>Developers</h2>
<ul class="list-unstyled">
<li>JJ Chen <br><small class="roles"> Author, maintainer </small> </li>
</ul>
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/jjchern/scorecard"><img src="https://travis-ci.org/jjchern/scorecard.svg?branch=master" alt="Travis-CI Build Status"></a></li>
<li><a href="https://ci.appveyor.com/project/jjchern/scorecard"><img src="https://ci.appveyor.com/api/projects/status/github/jjchern/scorecard?branch=master&amp;svg=true" alt="AppVeyor Build Status"></a></li>
</ul>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by JJ Chen.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
